<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>just a chill human :: terminal</title>
    <meta name="description" content="An interactive terminal experience.">
    <!-- MIT License -->
    <!-- Copyright (c) 2025 [Your Name] -->
    <!-- Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <style>
        :root {
            --font-primary: 'Space Grotesk', sans-serif;
            --font-mono: 'Fira Code', monospace;
            --ease-out-quart: cubic-bezier(0.25, 1, 0.5, 1);

            /* Default Theme: Matrix */
            --color-bg: #020b03;
            --color-text: #d0d0d0;
            --color-primary: #33ff66;
            --color-secondary: #00cc33;
            --color-accent: #99ff99;
            --color-error: #ff4d4d;
            --color-success: #4dff88;
            --glass-bg: rgba(10, 25, 10, 0.5);
            --glass-border: rgba(51, 255, 102, 0.2);
            --grid-line-color: rgba(51, 255, 102, 0.07);
            --shadow-glow: 0 0 15px rgba(51, 255, 102, 0.2), 0 0 30px rgba(51, 255, 102, 0.1);
        }

        body.theme-neon {
            --color-bg: #0a0a0f;
            --color-text: #e0e0e0;
            --color-primary: #00f0ff;
            --color-secondary: #ff00ff;
            --color-accent: #f0ff00;
            --glass-bg: rgba(16, 16, 24, 0.6);
            --glass-border: rgba(0, 240, 255, 0.2);
            --grid-line-color: rgba(0, 240, 255, 0.08);
            --shadow-glow: 0 0 15px rgba(0, 240, 255, 0.2), 0 0 30px rgba(0, 240, 255, 0.1);
        }
        
        body.theme-solarized {
            --color-bg: #002b36;
            --color-text: #839496;
            --color-primary: #268bd2;
            --color-secondary: #2aa198;
            --color-accent: #b58900;
            --color-error: #dc322f;
            --color-success: #859900;
            --glass-bg: rgba(7, 54, 66, 0.7);
            --glass-border: rgba(38, 139, 210, 0.2);
            --grid-line-color: rgba(38, 139, 210, 0.08);
            --shadow-glow: 0 0 10px rgba(38, 139, 210, 0.1);
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--color-bg);
            color: var(--color-text);
            font-family: var(--font-primary);
            font-size: 16px;
            transition: background-color 0.5s, color 0.5s;
        }

        #webgl-canvas {
            position: fixed;
            top: 0;
            left: 0;
            outline: none;
            z-index: 1;
        }

        #terminal-container {
            position: relative;
            z-index: 2;
            width: 100%;
            height: 100%;
            padding: 2vw;
            display: flex;
            flex-direction: column;
            background-image:
                linear-gradient(var(--grid-line-color) 1px, transparent 1px),
                linear-gradient(to right, var(--grid-line-color) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        
        #output-container {
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 15px;
            font-family: var(--font-mono);
        }
        
        #output-container::-webkit-scrollbar { width: 4px; }
        #output-container::-webkit-scrollbar-track { background: transparent; }
        #output-container::-webkit-scrollbar-thumb { background-color: var(--color-primary); border-radius: 2px; }

        .output-line {
            margin-bottom: 0.5rem;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .prompt-symbol {
            color: var(--color-primary);
            margin-right: 0.5em;
        }

        .output-line a {
            color: var(--color-primary);
            text-decoration: none;
            border-bottom: 1px dotted var(--color-primary);
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        
        .output-line a:hover {
            color: var(--color-accent);
            border-bottom-color: var(--color-accent);
        }
        
        .output-line .ascii-art {
             color: var(--color-primary);
             font-size: 1rem;
             line-height: 1;
             text-shadow: var(--shadow-glow);
        }
        
        #input-line {
            display: flex;
            align-items: center;
            font-family: var(--font-mono);
            font-size: 1.1rem;
            margin-top: 1rem;
        }
        
        #command-input {
            flex-grow: 1;
            border: none;
            background: transparent;
            color: var(--color-text);
            font-family: inherit;
            font-size: inherit;
            outline: none;
        }

        #command-input::placeholder { color: rgba(208, 208, 208, 0.4); }
        .theme-solarized #command-input::placeholder { color: rgba(131, 148, 150, 0.4); }

        .cursor {
            display: inline-block;
            width: 10px;
            height: 1.2em;
            background-color: var(--color-primary);
            margin-left: 5px;
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { from, to { background-color: transparent; } 50% { background-color: var(--color-primary); } }
    </style>
</head>
<body>
    <div id="webgl-canvas"></div>
    
    <main id="terminal-container">
        <section id="output-container"></section>
        <nav id="input-line">
            <span class="prompt-symbol">guest@humanity:~$</span>
            <input type="text" id="command-input" autofocus autocomplete="off" spellcheck="false">
            <div class="cursor"></div>
        </nav>
    </main>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- THREE.JS BACKGROUND ---
        let webglController;
        try {
            webglController = {
                scene: new THREE.Scene(),
                camera: new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000),
                renderer: new THREE.WebGLRenderer({ antialias: true, alpha: true }),
                clock: new THREE.Clock(),
                plane: null,

                init() {
                    const canvasContainer = document.getElementById('webgl-canvas');
                    this.renderer.setSize(window.innerWidth, window.innerHeight);
                    this.renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                    canvasContainer.appendChild(this.renderer.domElement);
                    this.camera.position.z = 1;

                    const geometry = new THREE.PlaneGeometry(5, 5, 100, 100);
                    const material = new THREE.ShaderMaterial({
                        uniforms: { uTime: { value: 0.0 } },
                        vertexShader: `
                            uniform float uTime;
                            varying vec2 vUv;
                            void main() {
                                vUv = uv;
                                vec3 pos = position;
                                float noise = sin(pos.x * 2.0 + uTime) * 0.1 + cos(pos.y * 2.0 + uTime) * 0.1;
                                pos.z += noise;
                                gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
                            }
                        `,
                        fragmentShader: `
                            uniform float uTime;
                            varying vec2 vUv;
                            void main() {
                                float time = uTime * 0.2;
                                vec2 p = -1.0 + 2.0 * vUv;
                                float a = time * 40.0;
                                float d,e,f,g=1.0/40.0,h,i,r,q;
                                e=400.0*(p.x*0.5+0.5);
                                f=400.0*(p.y*0.5+0.5);
                                i=200.0+sin(e*g+a/150.0)*20.0;
                                f=f-10.0*sin(i/10.0*g+a/50.0);
                                e=e+20.0*cos(f/10.0*g+a/50.0);
                                i=200.0+sin(e*g+a/150.0)*20.0;
                                d=2.0*sin(f/10.0*g+a/50.0);
                                e=e+20.0*cos(d);
                                r=sqrt(pow(i-e,2.0)+pow(d-f,2.0));
                                q=f/r;
                                e=(r*cos(q))-a/2.0;f=(r*sin(q))-a/2.0;
                                d=sin(e*g)*176.0+sin(e*g)*164.0+r;
                                h=((f+d)+a/2.0)*g;
                                i=cos(h+.5)*24.0-cos(h-.5)*24.0;
                                h=sin(h)*255.0;
                                vec3 color = vec3(0.2, h/255.0, 0.4);
                                gl_FragColor = vec4(color * 0.4, 1.0);
                            }
                        `,
                        wireframe: true
                    });
                    this.plane = new THREE.Mesh(geometry, material);
                    this.scene.add(this.plane);

                    window.addEventListener('resize', this.onWindowResize.bind(this));
                    this.animate();
                },
                onWindowResize() {
                    this.camera.aspect = window.innerWidth / window.innerHeight;
                    this.camera.updateProjectionMatrix();
                    this.renderer.setSize(window.innerWidth, window.innerHeight);
                },
                animate() {
                    requestAnimationFrame(this.animate.bind(this));
                    const elapsedTime = this.clock.getElapsedTime();
                    this.plane.material.uniforms.uTime.value = elapsedTime;
                    this.renderer.render(this.scene, this.camera);
                }
            };
            webglController.init();
        } catch (e) {
            console.error("WebGL failed to initialize.", e);
        }

        // --- TERMINAL CONTROLLER ---
        const terminal = {
            input: document.getElementById('command-input'),
            output: document.getElementById('output-container'),
            commandHistory: [],
            historyIndex: -1,
            game: { active: false, state: {} },

            init() {
                this.input.addEventListener('keydown', this.handleInput.bind(this));
                document.body.addEventListener('click', () => this.input.focus());
                this.bootSequence();
            },
            
            async bootSequence() {
                const bootText = [
                    "Booting HUMAN OS v3.14...",
                    "Checking system integrity...",
                    "Loading consciousness module...",
                    "Establishing neural link...",
                    "Welcome, user. Type 'help' to begin.",
                ];
                for (const line of bootText) {
                    this.writeLine(line, 'output-line');
                    await new Promise(resolve => setTimeout(resolve, 300));
                }
            },

            handleInput(e) {
                if (e.key === 'Enter') {
                    const command = this.input.value.trim();
                    this.writeLine(`<span class="prompt-symbol">guest@humanity:~$</span> ${command}`, 'output-line');
                    if (command) {
                        this.commandHistory.push(command);
                        this.historyIndex = this.commandHistory.length;
                        this.processCommand(command);
                    }
                    this.input.value = '';
                    this.output.scrollTop = this.output.scrollHeight;
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    if (this.historyIndex > 0) {
                        this.historyIndex--;
                        this.input.value = this.commandHistory[this.historyIndex];
                    }
                } else if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    if (this.historyIndex < this.commandHistory.length - 1) {
                        this.historyIndex++;
                        this.input.value = this.commandHistory[this.historyIndex];
                    } else {
                        this.historyIndex = this.commandHistory.length;
                        this.input.value = '';
                    }
                }
            },

            processCommand(input) {
                if (this.game.active) {
                    this.game.handler(input);
                    return;
                }
                const [command, ...args] = input.toLowerCase().split(' ');
                if (command in commands) {
                    commands[command](args);
                } else {
                    this.writeLine(`Command not found: ${command}. Type 'help' for available commands.`, 'output-line', 'var(--color-error)');
                }
            },

            writeLine(text, className, color = 'inherit') {
                const line = document.createElement('div');
                line.className = className;
                line.style.color = color;
                line.innerHTML = text; // Using innerHTML to render HTML tags
                this.output.appendChild(line);
                gsap.fromTo(line, { opacity: 0, y: 10 }, { opacity: 1, y: 0, duration: 0.5, ease: 'power4.out' });
                this.output.scrollTop = this.output.scrollHeight;
            },
            
            startGame(gameName, handler) {
                this.game.active = true;
                this.game.handler = handler;
                this.game.state = {};
            },
            
            endGame() {
                this.game.active = false;
                this.game.handler = null;
                this.game.state = {};
            }
        };

        // --- COMMANDS DEFINITION ---
        const commands = {
            help: () => {
                terminal.writeLine(`
                    Available Commands:
                    <br>  <strong>whoami</strong>     - Displays a little about this project.
                    <br>  <strong>theme</strong>      - Change the terminal theme. Usage: theme [matrix|neon|solarized]
                    <br>  <strong>game</strong>       - Start a terminal game. Usage: game [guess]
                    <br>  <strong>socials</strong>    - View social links.
                    <br>  <strong>clear</strong>      - Clears the terminal screen.
                `, 'output-line');
            },
            whoami: () => {
                const art = `
<pre class="ascii-art">
      .o oOOOOOOo                                            
     oO'         'Oo                                         
   oO'             'oO                                       
  oO'                 'oO                                    
 oO'                     'oO                                 
oO'   .oOOOOOOOOOOo.      'oO                                
oO'  oO'          'oOo    'oO                                
oO' oO'             'oO   'oO                                
oO' oO'             oO'   'oO                                
oO' oO'            oO'    'oO      just a chill human.        
oO'  'oO.        .oO'     'oO                                
oO'    'oOOOOOOOOO'       'oO                                
 oO'                     oO'                                 
  oO'                 oO'                                    
   oO'             oO'                                       
     'oO         oO'                                         
        'OOOOOOO'
</pre>`;
                terminal.writeLine(art, 'output-line');
            },
            theme: (args) => {
                const validThemes = ['matrix', 'neon', 'solarized'];
                const newTheme = args;
                if (validThemes.includes(newTheme)) {
                    document.body.className = `theme-${newTheme}`;
                    if(newTheme === 'matrix') document.body.className = '';
                    terminal.writeLine(`Theme set to ${newTheme}.`, 'output-line', 'var(--color-success)');
                } else {
                    terminal.writeLine(`Invalid theme. Usage: theme [${validThemes.join('|')}]`, 'output-line', 'var(--color-error)');
                }
            },
            socials: () => {
                 terminal.writeLine(`
                    You can find me here:
                    <br>  <a href="https://github.com/23f3001304" target="_blank">GitHub</a>
                    <br>  <a href="https://linkedin.com/in/coehemang" target="_blank">LinkedIn</a>
                `, 'output-line');
            },
            game: (args) => {
                const gameName = args;
                if (gameName === 'guess') {
                    games.guess.start();
                } else {
                    terminal.writeLine(`Unknown game. Available games: [guess]`, 'output-line', 'var(--color-error)');
                }
            },
            clear: () => {
                terminal.output.innerHTML = '';
            }
        };

        // --- GAMES DEFINITION ---
        const games = {
            guess: {
                start: () => {
                    terminal.writeLine('Starting Number Guessing Game...', 'output-line', 'var(--color-accent)');
                    terminal.writeLine('I have picked a number between 1 and 100. Try to guess it!', 'output-line');
                    terminal.writeLine("Type 'exit' to quit the game.", 'output-line');
                    const handler = (input) => {
                        if (input.toLowerCase() === 'exit') {
                            terminal.writeLine('Exiting game.', 'output-line');
                            terminal.endGame();
                            return;
                        }
                        const guess = parseInt(input, 10);
                        if (isNaN(guess)) {
                            terminal.writeLine('Please enter a valid number.', 'output-line', 'var(--color-error)');
                            return;
                        }

                        const { number, attempts } = terminal.game.state;
                        terminal.game.state.attempts++;
                        
                        if (guess < number) {
                            terminal.writeLine('Too low. Try again.', 'output-line');
                        } else if (guess > number) {
                            terminal.writeLine('Too high. Try again.', 'output-line');
                        } else {
                            terminal.writeLine(`Correct! You guessed the number in ${attempts} attempts.`, 'output-line', 'var(--color-success)');
                            terminal.endGame();
                        }
                    };
                    terminal.startGame('guess', handler);
                    terminal.game.state = {
                        number: Math.floor(Math.random() * 100) + 1,
                        attempts: 1,
                    };
                }
            }
        };

        // --- INITIALIZE ---
        terminal.init();
    });
    </script>
</body>
</html>